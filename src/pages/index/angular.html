<div class="panel panel-default" ng-app="angularApp" ng-controller="demoCtrl">
	<div class="panel-heading">
		<h3 class="panel-title">AngularJS Directive</h3>
	</div>
	<div class="panel-body">
		<b>Number</b>
		<div flipdisplay display="{{number}}" size="tiny"></div>
		<b>Time (full d:h:m:s)</b>
		<div flipdisplay display="{{number}}" size="tiny" time="true"></div>
		<b>Time (auto)</b>
		<div flipdisplay display="{{number}}" size="tiny" time="true" auto="true"></div>
		<hr />
		<input type="text" class="form-control" id="display_1_input" ng-model="number" placeholder="enter a number" style="width:200px;">
	</div>
</div>

<script type="text/javascript">
	
	// Define the angular app
	angular.module('angularApp', []).controller('demoCtrl', function($scope) {
		$scope.number = 123;
		
	}).directive('flipdisplay', function() {
		function link(scope, element, attrs) {
			
			if (!attrs.size) {
				attrs.size = "medium"
			}
			
			var flipDisplay = new window.flipDisplay(element, {
				size:	attrs.size
			});
			
			if (attrs.time == "true") {
				flipDisplay.displayTime(attrs.display, false, attrs.auto);
			} else {
				flipDisplay.display(attrs.display);
			}
			
			attrs.$observe('display', function(value) {
				if (attrs.time == "true") {
					flipDisplay.displayTime(value, false, attrs.auto);
				} else {
					flipDisplay.display(value);
				}
			});
			
			
		}
	
		return {
			link: link,
			scope:	{
				display:	'@'
			}
		};
	});
</script>